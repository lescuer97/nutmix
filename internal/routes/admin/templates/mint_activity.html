{{ template "base" }} 

{{template "navigation" "activity"}}

<div hx-ext="remove-me" id="notifications"></div>
<main>
  <div class="balance">
    <div
      hx-get="/admin/mint-balance"
      hx-trigger="load"
      hx-target="this"
      hx-swap="innerHTML"
      class=""
    ></div>

    <div
      hx-get="/admin/mint-melt-summary"
      hx-trigger="load"
      hx-target="this"
      hx-swap="outerHTML"
      class=""
    ></div>
  </div>
  <div class="data-list">
  <div
    hx-get="/admin/logs"
    hx-target="this"
    hx-swap="innerHTML"
    hx-trigger="load"

    class="log-table"
  ></div>
  <div
    hx-get="/admin/mint-melt-list"
    hx-target="this"
    hx-swap="innerHTML"
    hx-trigger="load"
    class="mint-melt-table"
  ></div>
    
  </div>
</main>

{{ define "node-balance"}}
<div class="card">
  <h2>Node Balance:</h2>
  {{.}} Sats
</div>
{{ end }} 

{{ define "fake-wallet-balance"}}
<div class="card">
  <h2>Fake Wallet doesn't have a balance</h2>
</div>
{{ end }} 

{{ define "mint-melt-activity"}}
<div class="card">
  <div class=""><b>Mint:</b> {{.Mint}} Sats</div>

  <div class=""><b>Melt:</b> {{.Melt}} Sats</div>

  <div class=""><b>Net inflows:</b> {{.Net}} Sats</div>
</div>
{{ end }} 

{{ define "logs" }} 

    {{range .}}
    
        <p class="log">Level: {{.Level}} Message: {{.Msg}} Time: {{.Time}}</p>
    
    {{end}} 

{{ end }}

{{ define "mint-melt-list" }} 

    <table class="">
        <thead>
            <tr>
              <th scope="col">Type</th>
              <th scope="col">Request</th>
              <th scope="col">Unit</th>
              <th scope="col">Status</th>
              <th scope="col">Time</th>
            </tr>
        </thead>
        <tbody>
            {{range .}}
            <tr class="{{.Type}}">
                    <th scope="row">{{.Type}}</th>
                    <td class="request-row">{{.Request}}</td>
                    <td class="unit">{{.Unit}}</td>
                    <td>{{.Status}}</td>
                    <td>{{.SeenAt}}</td>
                </tr>
            {{end}} 
        </tbody>
    </table>

{{ end }}
